#Man&Coordination
-----------------------------------------------------------------
이미지 추론(Tensorflow)을 통한 패션 정보 제공 웹 페이지   
By. Sangwon Seon, SuHyang Yeo, Hoon Seol, GwanYong Park   

IDE : Eclipse   
Language : Spring Tool Suite 3.9.12.RELEASE, Python 3.7.3   
Database : MySQL 5.5  

URL : https://seonsangwon.dev/coordination
------------------------------------------------------------------

패션에 대한 고민을 줄이기 위해 프로젝트를 개발하게 되었으며, 제 4차 산업혁명 시대의 기술을 다루기 위해   
기계학습 라이브러리(Tensorflow)를 사용했다   
또한 동적 웹 페이지의 특성을 살려 PC뿐만 아니라 모바일, 태블릿 환경에서도 최적화된 서비스를 제공받을 수 있다

#Project
 - 프로젝트 개발 기간 : 2019.09.04 ~ 2019.11.14
 - 프로젝트 구성 인원 : 4명
 - 형상 관리 : Github
 - 사이트 URL : http://13.125.207.51:8080 → https://seonsangwon.dev/coordination [전환예정]
 
 
#Background
 - 매일 옷을 어떻게 입어야 할지 고민을 하는 사람들에게 다양한 코디 정보를 제공하기 위한 시스템 구축
 - 패션 코디룩에 대한 정보를 제공함으로써 효율적인 맞춤 코디를 지원
 - 제 4차 산업혁명 시대의 기술을 다루기 위해 기계학습 라이브러리(Tensorflow)를 사용
 
 
#Objectives
 - 사용자가 매일 옷을 어떻게 매칭할지에 대한 걱정을 최소화 시켜주는 것이 최종 목표
 - 협력 쇼핑몰의 코디 정보를 제공함으로써 간접적인 쇼핑몰 홍보 효과
 - 동적 웹 페이지의 특성을 살려 PC뿐만 아니라 모바일, 태블릿 환경에서도 최적화된 서비스 제공
 
 
#Scope
 - 기계학습 알고리즘을 통한 Tensorflow Inception-V3 Model Retaining
 - 학습된 신경망을 통한 이미지 추론
 - 협력 쇼핑몰 웹 파싱(Web Parsing)
 - 회원 관리(Member Management)
 - 기상청 Open API - (신)동네예보정보조회서비스
 
 
#Approach
 - Spring Tool Suite(STS)
 - Apache Tomcat 8.5
 - Python
 - MySQL 5.5
 - Tensorflow
  
  
#Workplan
 - 분석 : 방법론 추론 & API 학습
    - 09.04(수) ~ 09.24(화)
 - 사용자 인터페이스 설계
    - 09.25(수) ~ 10.04(금)
 - 데이터베이스 설계
    - 10.04(금) ~ 10.08(화)
 - 프로그램 설계
    - 10.09(수) ~ 10.20(일)
 - 시스템 구현
    - 10.21(월) ~ 11.10(일)
 - 테스트
    - 11.11(월) ~ 11.14(목)
 - 배포
    - 11.15(금)
  
  
#Cost/Benefit
 - 제 4차 산업혁명을 대비하여 머신 러닝을 위한 End - TO - End 오픈 소스 플랫폼인 Tensorflow 기술을   
   학습해 비즈니스 모델설계 프로젝트에 참여한 구성원들의 학습 능력을 향상시킬 수 있을 것으로 기대함
 - 협력 쇼핑몰의 다양한 정보를 제공함으로써 고객의 만족도를 높이고 동시에 쇼핑몰 간접 홍보 효과를 더함
 - 사용자의 실제 의상을 촬영하여 등록함으로써 실제 옷장의 분위기를 연출
 
------------------------------------------------------------------

#메인 홈페이지
 - 메인 홈페이지에서는 기상청의 Open API를 통해 사용자가 지정한 지역의 온도를 불러온다
 - 최저 온도, 최고 온도, 3시간 온도를 가져와 자체 개발한 날씨 알고리즘을 통해 사용자가 해당 온도에 맞게
   입기 좋은 의상정보를 제공한다
 - 모든 의상정보는 협력 쇼핑몰을 통해 가져온 이미지를 보여준다
 - 코디룩 이미지를 선택하면 모달창이 띄워지며 회원은 해당 코디룩 이미지를 저장할 수 있다
 
 
#회원전용 홈페이지
 - 회원에게는 나만의 옷장이라는 기능을 제공한다
 - 나만의 옷장에는 실제 의상을 촬영하여 등록하는 공간과 사용자 취향의 의상정보를 영구 저장할 수 있는 공간으로 나뉜다
 - 실제 의상을 촬영하여 등록하는 공간은 상의와 하의로 구분한다
 - 실제 의상을 촬영하여 등록하는 공간은 이미지를 업로드하면 기계학습을 통해 학습된 신명망이
   등록된 의상의 색상을 추론하여 사용자에게 알려준다
 - 사용자 취향의 의상정보를 영구 저장할 수 있는 공간에서는 메인 홈페이지 및 등록한 의상의 코디정보를 확인하며
   마음에 드는 의상정보를 저장하면 확인할 수 있다


#코디보기 기능
 - 나만의 옷장에서 사용자가 실제 의상을 촬영하여 등록하면 의상에 대한 패션정보를 제공한다
 - 사용자는 상의 또는 하의를 선택하여 패션정보를 제공받을 수 있으며 추가적으로 상의와 하의를 동시에 선택할 수 있다
 - 사용자가 선택한 의상과 선택된 의상의 색상을 입고있는 다양한 패션정보가 협력 쇼핑몰에서 
   제공되는 이미지를 통해 보여진다
 - 사용자는 패션 스타일, 연출법 등을 참고할 수 있으며 쇼핑몰의 이름을 노출시킴으로써
   간접적인 쇼핑몰 홍보 효과를 불러온다
   
   
#Tensorflow 를 통한 Inception-V3 Model Retraining
 - Tensorflow 라이브러리를 통해 Inception-V3 모델을 학습시킨다
 - 학습시키는데 사용되는 데이터 셋은 자체적으로 이미지를 수집하여 제작한다
 - 학습에 필요한 모든 사진의 확장자는 JPG / JPEG 로만 구성된다
 - 학습시키는 라벨의 종류는 총 13가지로 나누어진다
 - Black / Blue / Brown / Green / Ivory / Orange / Patten / Pink / Purple / Red / White / Yellow 로 구분된다
 - 각 라벨당 학습되는 사진은 1400 ~ 5000장으로 구성된다
 - 학습하는 횟수는 총 100,000번으로 지정한다
 - 빠른 학습을 위해 Tensorflow-cpu 버전이 아닌 Tensorflow-gpu 버전을 사용한다
 
 
#학습된 신경망을 통한 이미지 추론
 - 이미지 추론은 관리자와 사용자로 구분한다
 - 관리자는 웹 파싱을 통한 이미지 다운로드가 끝나면 원본 이미지를 복사한 뒤
   전신 사진을 상의와 하의로 구분하여 이미지를 나눈다
 - 상의의 이미지 경로를 입력하여 분석된 이미지의 색상을 데이터베이스에 저장한다
 - 하의의 이미지 경로를 입력하여 분석된 이미지의 색상을 데이터베이스에 저장한다
 - 모든 이미지 추론 작업을 마치면 상의, 하의 이미지를 삭제하고 복사했던 이미지를 가져와
   원래 파일명으로 저장한다
 - 사용자는 자신의 실제 의상을 촬영하여 이미지를 등록하면 이미지를 분석하여 데이터베이스에 저장한다
 - 잘못된 결과값이 저장될 경우를 대비하여 사용자에게 해당 색상이 맞는지에 대한 유효성 검사를 진행시킨 뒤,
   최종 결과값을 데이터베이스에 저장한다
   
   
#협력 쇼핑몰 웹 파싱(ShoppingMall Web Parsing)
 - 협력 쇼핑몰의 이미지를 파싱한다.
 - 이미지는 확장자가 JPG / JPEG 인 이미지만을 파싱하여 저장한다
 - 옷의 종류는 아우터, 긴팔/셔츠, 반팔/반팔셔츠, 맨투맨/후드 로 구분된다
 
 
#기상청 Open API - (신)동네예보정보조회서비스
 - 공공데이터포털의 (신)동네예보정보조회서비스를 사용한다
 - 1일 트래픽양은 1,000건이므로 개발자 2명이 API를 신청하여 2개의 API Key 를 사용한다
 - 기상정보에서 최저온도, 최고온도, 3시간 온도를 불러와 사용한다
 - 최저온도와 최고온도, 3시간 온도를 인자로 계산하는 알고리즘을 사용해서 계산된 온도에 맞는 의상정로를 
 
 
#회원가입
 - 회원에게 아이디, 비밀번호, 이름, 전화번호를 입력받는다
 
 
#로그인
 - 로그인 페이지를 통해 로그인을 진행한다
 - 로그인 시, 아이디와 비밀번호를 입력받는다
 - 로그인 성공 시, 메인 홈페이지로 이동한다
 - 로그인 실패 시, 아이디 또는 비밀번호가 틀렸다는 에러 메시지를 출력한다
 - 탈퇴한 회원일 경우, 탈퇴한 회원이라는 메시지를 출력한다
 
------------------------------------------------------------------

#Database Table   
 - member : 회원의 정보를 저장하기 위한 테이블
 - style  : 코디룩 정보를 저장하기 위한 테이블
 - closet : 회원의 실제 의상 정보를 저장하기 위한 테이블
 - dressroom : 사용자 취향의 코디정보를 저장하기 위한 테이블
